<!-- HTML header for doxygen 1.8.3.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>nRF5 SDK v13.0.0: SoftDevice Event Handler</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="extra_stylesheet_offline.css" rel="stylesheet" type="text/css"/>
<link href="nordic.css" rel="stylesheet" type="text/css" />
<link rel="Shortcut icon" href="./favicon.ico" type="image/x-icon" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0" width="100%" class="blank">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Nordic Semiconductor" src="nordic_small.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">nRF5 SDK
   &#160;<span id="projectnumber">v13.0.0</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
<table cellspacing="0" cellpadding="0" class="blank">
<tr>
<td class="doclinkintro">Choose documentation:</td>
<td class="doclinks" id="nrf5"><a href="../nrf5/index.html">nRF5 SDK</a></td>
<td class="doclinks" id="s132"><a href="../s132/index.html">S132 SoftDevice API</a></td>
<td class="doclinks" id="s140"><a href="../s140/index.html">S140 SoftDevice API</a></td>
<td class="doclinks" id="s212"><a href="../s212/index.html">S212 SoftDevice API</a></td>
<!--<td class="doclinks" id="s332"><a href="../s332/index.html">S332 SoftDevice API</a></td>-->
</tr>
</table>
<script>
var url=window.location.href.split("/").reverse()[1];
var validLinks= ["nrf5","s132","s140","s212","s332"];
var index;
for (index = 0; index < validLinks.length; ++index) {
   if ( url.indexOf(validLinks[index]) !== -1 ) {
      document.getElementById(validLinks[index]).setAttribute('class', 'doclinks docselected');
   };
};
</script>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__softdevice__handler.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Modules</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">SoftDevice Event Handler<div class="ingroups"><a class="el" href="group__app__common.html">SDK common libraries</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>API for initializing and disabling the SoftDevice.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group__ant__stack__handler__types"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ant__stack__handler__types.html">Types definitions for ANT support in SoftDevice handler.</a></td></tr>
<tr class="memdesc:group__ant__stack__handler__types"><td class="mdescLeft">&#160;</td><td class="mdescRight">This file contains the declarations of types required for ANT stack support. These types will be defined when the preprocessor define ANT_STACK_SUPPORT_REQD is defined. <br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__ble__stack__handler__types"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__stack__handler__types.html">Types definitions for BLE support in SoftDevice handler.</a></td></tr>
<tr class="memdesc:group__ble__stack__handler__types"><td class="mdescLeft">&#160;</td><td class="mdescRight">This file contains the declarations of types required for BLE stack support. These types will be defined when the preprocessor define BLE_STACK_SUPPORT_REQD is defined. <br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga9977dc2f6256c9b2c6d23622fa4da975"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__softdevice__handler.html#ga9977dc2f6256c9b2c6d23622fa4da975">SOFTDEVICE_SCHED_EVT_SIZE</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:ga9977dc2f6256c9b2c6d23622fa4da975"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga33d256e5c8385694b358053139fe2153"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__softdevice__handler.html#ga33d256e5c8385694b358053139fe2153">SYS_EVT_MSG_BUF_SIZE</a>&#160;&#160;&#160;sizeof(uint32_t)</td></tr>
<tr class="separator:ga33d256e5c8385694b358053139fe2153"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga83d8751e9fa1193e3be7524a696aa36c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__softdevice__handler.html#ga83d8751e9fa1193e3be7524a696aa36c">SOFTDEVICE_HANDLER_INIT</a>(CLOCK_SOURCE,EVT_HANDLER)</td></tr>
<tr class="memdesc:ga83d8751e9fa1193e3be7524a696aa36c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Macro for initializing the stack event handler.  <a href="#ga83d8751e9fa1193e3be7524a696aa36c">More...</a><br/></td></tr>
<tr class="separator:ga83d8751e9fa1193e3be7524a696aa36c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga25f319506f20e24ad71478dce23f7f39"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga25f319506f20e24ad71478dce23f7f39"></a>
typedef uint32_t(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__softdevice__handler.html#ga25f319506f20e24ad71478dce23f7f39">softdevice_evt_schedule_func_t</a> )(void)</td></tr>
<tr class="memdesc:ga25f319506f20e24ad71478dce23f7f39"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of function for passing events from the stack handler module to the scheduler. <br/></td></tr>
<tr class="separator:ga25f319506f20e24ad71478dce23f7f39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5daeb8e474f0ad143566e2045233a53e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga5daeb8e474f0ad143566e2045233a53e"></a>
typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__softdevice__handler.html#ga5daeb8e474f0ad143566e2045233a53e">sys_evt_handler_t</a> )(uint32_t evt_id)</td></tr>
<tr class="memdesc:ga5daeb8e474f0ad143566e2045233a53e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Application System (SOC) event handler type. <br/></td></tr>
<tr class="separator:ga5daeb8e474f0ad143566e2045233a53e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga754a2e01a7431c2d89561058ff5618fb"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__softdevice__handler.html#ga754a2e01a7431c2d89561058ff5618fb">sd_check_ram_start</a> (uint32_t sd_req_ram_start)</td></tr>
<tr class="memdesc:ga754a2e01a7431c2d89561058ff5618fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for checking the RAM requirement of the SoftDevice.  <a href="#ga754a2e01a7431c2d89561058ff5618fb">More...</a><br/></td></tr>
<tr class="separator:ga754a2e01a7431c2d89561058ff5618fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa696900d997f04f8dcb98c99fdf1a5da"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__softdevice__handler.html#gaa696900d997f04f8dcb98c99fdf1a5da">softdevice_handler_is_enabled</a> (void)</td></tr>
<tr class="memdesc:gaa696900d997f04f8dcb98c99fdf1a5da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for retrieving the information about SD state.  <a href="#gaa696900d997f04f8dcb98c99fdf1a5da">More...</a><br/></td></tr>
<tr class="separator:gaa696900d997f04f8dcb98c99fdf1a5da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad9fa7483c37d82bbb2e713d20c658c6b"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__softdevice__handler.html#gad9fa7483c37d82bbb2e713d20c658c6b">softdevice_handler_init</a> (<a class="elRef" doxygen="tag_s140_offline.tag:../s140/" href="../s140/structnrf__clock__lf__cfg__t.html">nrf_clock_lf_cfg_t</a> *p_clock_lf_cfg, void *p_ble_evt_buffer, uint16_t ble_evt_buffer_size, <a class="el" href="group__softdevice__handler.html#ga25f319506f20e24ad71478dce23f7f39">softdevice_evt_schedule_func_t</a> evt_schedule_func)</td></tr>
<tr class="memdesc:gad9fa7483c37d82bbb2e713d20c658c6b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for initializing the stack handler module.  <a href="#gad9fa7483c37d82bbb2e713d20c658c6b">More...</a><br/></td></tr>
<tr class="separator:gad9fa7483c37d82bbb2e713d20c658c6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabbec783a89f93617d3661a819597d79c"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__softdevice__handler.html#gabbec783a89f93617d3661a819597d79c">softdevice_handler_sd_disable</a> (void)</td></tr>
<tr class="memdesc:gabbec783a89f93617d3661a819597d79c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for disabling the SoftDevice.  <a href="#gabbec783a89f93617d3661a819597d79c">More...</a><br/></td></tr>
<tr class="separator:gabbec783a89f93617d3661a819597d79c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2367dbdaf727615d9e780f3a4eb2a8f0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__softdevice__handler.html#ga2367dbdaf727615d9e780f3a4eb2a8f0">softdevice_handler_suspend</a> (void)</td></tr>
<tr class="memdesc:ga2367dbdaf727615d9e780f3a4eb2a8f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for suspending the event handler.  <a href="#ga2367dbdaf727615d9e780f3a4eb2a8f0">More...</a><br/></td></tr>
<tr class="separator:ga2367dbdaf727615d9e780f3a4eb2a8f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae246357674ef812342b3554c9c2518e2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gae246357674ef812342b3554c9c2518e2"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__softdevice__handler.html#gae246357674ef812342b3554c9c2518e2">softdevice_handler_resume</a> (void)</td></tr>
<tr class="memdesc:gae246357674ef812342b3554c9c2518e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for re-enabling the event handler after suspending. <br/></td></tr>
<tr class="separator:gae246357674ef812342b3554c9c2518e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaebfcff54e01413cc85563f705a6957c0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__softdevice__handler.html#gaebfcff54e01413cc85563f705a6957c0">softdevice_handler_is_suspended</a> (void)</td></tr>
<tr class="memdesc:gaebfcff54e01413cc85563f705a6957c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for retrieving the information about the event handler state.  <a href="#gaebfcff54e01413cc85563f705a6957c0">More...</a><br/></td></tr>
<tr class="separator:gaebfcff54e01413cc85563f705a6957c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga200d4e1f1c70a46e6de6343f0a7d84b1"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__softdevice__handler.html#ga200d4e1f1c70a46e6de6343f0a7d84b1">softdevice_sys_evt_handler_set</a> (<a class="el" href="group__softdevice__handler.html#ga5daeb8e474f0ad143566e2045233a53e">sys_evt_handler_t</a> sys_evt_handler)</td></tr>
<tr class="memdesc:ga200d4e1f1c70a46e6de6343f0a7d84b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for registering for System (SOC) events.  <a href="#ga200d4e1f1c70a46e6de6343f0a7d84b1">More...</a><br/></td></tr>
<tr class="separator:ga200d4e1f1c70a46e6de6343f0a7d84b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7a3ff66ff940c4174bf58e6c39ae23df"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__sdk__error.html#gaf6c20fb483036617204f12e99e0b997b">ret_code_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__softdevice__handler.html#ga7a3ff66ff940c4174bf58e6c39ae23df">softdevice_app_ram_start_get</a> (uint32_t *app_ram_base)</td></tr>
<tr class="memdesc:ga7a3ff66ff940c4174bf58e6c39ae23df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for fetching the start address of the application RAM.  <a href="#ga7a3ff66ff940c4174bf58e6c39ae23df">More...</a><br/></td></tr>
<tr class="separator:ga7a3ff66ff940c4174bf58e6c39ae23df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafe078b9078d9100706277e2b9215b8fd"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__softdevice__handler.html#gafe078b9078d9100706277e2b9215b8fd">softdevice_enable</a> (uint32_t *ram_start)</td></tr>
<tr class="memdesc:gafe078b9078d9100706277e2b9215b8fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for enabling the SoftDevice.  <a href="#gafe078b9078d9100706277e2b9215b8fd">More...</a><br/></td></tr>
<tr class="separator:gafe078b9078d9100706277e2b9215b8fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>API for initializing and disabling the SoftDevice. </p>
<p>This API contains the functions and defines exposed by the <a class="el" href="lib_softdevice_handler.html">SoftDevice handler library</a>. For more information on the library and how the application should use it, please refer <a class="el" href="lib_softdevice_handler.html">SoftDevice handler library</a>.</p>
<dl class="section note"><dt>Note</dt><dd>Use the USE_SCHEDULER parameter of the <a class="el" href="group__softdevice__handler.html#ga83d8751e9fa1193e3be7524a696aa36c" title="Macro for initializing the stack event handler.">SOFTDEVICE_HANDLER_INIT()</a> macro to select if the <a class="el" href="group__app__scheduler.html">Scheduler</a> is to be used or not.</dd>
<dd>
Even if the scheduler is not used, softdevice_handler.h will include app_scheduler.h. So when compiling, app_scheduler.h must be available in one of the compiler include paths. </dd></dl>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ga83d8751e9fa1193e3be7524a696aa36c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SOFTDEVICE_HANDLER_INIT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">CLOCK_SOURCE, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">EVT_HANDLER&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span>                                                                                             \</div>
<div class="line">    {                                                                                              \</div>
<div class="line">        static uint32_t BLE_EVT_BUFFER[<a class="code" href="group__app__util.html#ga7aaa817cfd7ed354f09db5675ffe1427" title="Macro for performing integer division, making sure the result is rounded up.">CEIL_DIV</a>(<a class="code" href="group__ble__stack__handler__types.html#gab11d82da68bcf71c064b936f8398fb26">BLE_STACK_EVT_MSG_BUF_SIZE</a>, <span class="keyword">sizeof</span>(uint32_t))];    \</div>
<div class="line">        uint32_t ERR_CODE;                                                                         \</div>
<div class="line">        ERR_CODE = <a class="code" href="group__softdevice__handler.html#gad9fa7483c37d82bbb2e713d20c658c6b" title="Function for initializing the stack handler module.">softdevice_handler_init</a>((CLOCK_SOURCE),                                         \</div>
<div class="line">                                           BLE_EVT_BUFFER,                                         \</div>
<div class="line">                                           <span class="keyword">sizeof</span>(BLE_EVT_BUFFER),                                 \</div>
<div class="line">                                           EVT_HANDLER);                                           \</div>
<div class="line">        APP_ERROR_CHECK(ERR_CODE);                                                                 \</div>
<div class="line">    } <span class="keywordflow">while</span> (0)</div>
</div><!-- fragment -->
<p>Macro for initializing the stack event handler. </p>
<p>It will handle dimensioning and allocation of the memory buffer required for reading events from the stack, making sure the buffer is correctly aligned. It will also connect the stack event handler to the scheduler/RTOS (if specified).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">CLOCK_SOURCE</td><td>Low frequency clock source and accuracy (type nrf_clock_lf_cfg_t_t, see <a class="elRef" doxygen="tag_s140_offline.tag:../s140/" href="../s140/group___n_r_f___s_d_m___f_u_n_c_t_i_o_n_s.html#ga420235cbdf6b0746ce86af3cfd0ec055">sd_softdevice_enable()</a> for details). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">EVT_HANDLER</td><td>scheduler/RTOS event handler function.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Since this macro allocates a buffer, it must only be called once (it is OK to call it several times as long as it is from the same location, that is to do a reinitialization). </dd></dl>

</div>
</div>
<a class="anchor" id="ga9977dc2f6256c9b2c6d23622fa4da975"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SOFTDEVICE_SCHED_EVT_SIZE&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Size of button events being passed through the scheduler (is to be used for computing the maximum size of scheduler events). For SoftDevice events, this size is 0, since the events are being pulled in the event handler. </p>

</div>
</div>
<a class="anchor" id="ga33d256e5c8385694b358053139fe2153"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SYS_EVT_MSG_BUF_SIZE&#160;&#160;&#160;sizeof(uint32_t)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Size of System (SOC) event message buffer. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga754a2e01a7431c2d89561058ff5618fb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t sd_check_ram_start </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>sd_req_ram_start</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function for checking the RAM requirement of the SoftDevice. </p>
<p>Call this function to check if the project settings have the correct RAM start address in respect to what the SoftDevice requires.</p>
<dl class="section note"><dt>Note</dt><dd>This function is called using the CHECK_RAM_START_ADDR_INTERN macro and should not be called directly. </dd></dl>

</div>
</div>
<a class="anchor" id="ga7a3ff66ff940c4174bf58e6c39ae23df"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__sdk__error.html#gaf6c20fb483036617204f12e99e0b997b">ret_code_t</a> softdevice_app_ram_start_get </td>
          <td>(</td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>app_ram_base</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function for fetching the start address of the application RAM. </p>
<p>This function must be called before <a class="el" href="group__softdevice__handler.html#gafe078b9078d9100706277e2b9215b8fd">softdevice_enable</a> and <a class="elRef" doxygen="tag_s140_offline.tag:../s140/" href="../s140/group___b_l_e___c_o_m_m_o_n___f_u_n_c_t_i_o_n_s.html#ga4edae2bac8c68b672c0fa101ed2c687f">sd_ble_cfg_set</a>. It reads the RAM start address as a region symbol, depending on the compiler.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">app_ram_base</td><td>Variable to store the start address for the application RAM.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NRF_SUCCESS</td><td>If the operation was successful. </td></tr>
    <tr><td class="paramname">NRF_ERROR_NOT_FOUND</td><td>If the compiler is not supported. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gafe078b9078d9100706277e2b9215b8fd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t softdevice_enable </td>
          <td>(</td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>ram_start</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function for enabling the SoftDevice. </p>
<p>This function calls the <a class="elRef" doxygen="tag_s140_offline.tag:../s140/" href="../s140/group___b_l_e___c_o_m_m_o_n___f_u_n_c_t_i_o_n_s.html#ga8a92420df90945526d4c89d09486508d">sd_ble_enable</a> SVC call. It has been abstracted to give feedback on the app_ram_base. If the app_ram_base is too low, this function will return an error. Using a app_ram_base that is too high will not fail, but will result in RAM that is never used. If the DEBUG macro is enabled, this function will provide the correct app_ram_base as mandated by the SoftDevice. This is useful to tweak the RAM use of your application.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ram_start</td><td>Parameters for configuring links and bandwidths.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NRF_SUCCESS</td><td>If the operation was successful. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gad9fa7483c37d82bbb2e713d20c658c6b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t softdevice_handler_init </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="tag_s140_offline.tag:../s140/" href="../s140/structnrf__clock__lf__cfg__t.html">nrf_clock_lf_cfg_t</a> *&#160;</td>
          <td class="paramname"><em>p_clock_lf_cfg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>p_ble_evt_buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>ble_evt_buffer_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__softdevice__handler.html#ga25f319506f20e24ad71478dce23f7f39">softdevice_evt_schedule_func_t</a>&#160;</td>
          <td class="paramname"><em>evt_schedule_func</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function for initializing the stack handler module. </p>
<p>Enables the SoftDevice and the stack event interrupt handler.</p>
<dl class="section note"><dt>Note</dt><dd>This function must be called before calling any function in the SoftDevice API.</dd>
<dd>
Normally initialization should be done using the <a class="el" href="group__softdevice__handler.html#ga83d8751e9fa1193e3be7524a696aa36c" title="Macro for initializing the stack event handler.">SOFTDEVICE_HANDLER_INIT()</a> macro, as that will both allocate the event buffer, and also align the buffer correctly.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p_clock_lf_cfg</td><td>Low frequency clock source to be used by the SoftDevice. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">p_ble_evt_buffer</td><td>Buffer for holding one BLE stack event. Since heap is not being used, this buffer must be provided by the application. The buffer must be large enough to hold the biggest stack event the application is supposed to handle. The buffer must be aligned to a 4 byte boundary. This parameter is unused if BLE stack support is not required. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ble_evt_buffer_size</td><td>Size of SoftDevice BLE event buffer. This parameter is unused if BLE stack support is not required. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">evt_schedule_func</td><td>Function for passing events to the scheduler. Point to ble_ant_stack_evt_schedule() to connect to the scheduler. Set to NULL to make the stack handler module call the event handler directly from the stack event interrupt handler.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NRF_SUCCESS</td><td>Successful initialization. </td></tr>
    <tr><td class="paramname">NRF_ERROR_INVALID_PARAM</td><td>Invalid parameter (buffer not aligned to a 4 byte boundary) or NULL. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gaa696900d997f04f8dcb98c99fdf1a5da"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool softdevice_handler_is_enabled </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function for retrieving the information about SD state. </p>
<p>The information about current state of softdevice. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">false</td><td>SD is not initialized and SD commands should not be called. </td></tr>
    <tr><td class="paramname">true</td><td>SD is already initialized </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gaebfcff54e01413cc85563f705a6957c0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool softdevice_handler_is_suspended </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function for retrieving the information about the event handler state. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">false</td><td>Event handler is active. </td></tr>
    <tr><td class="paramname">true</td><td>Event handler is suspended and events from SD will not be pulled. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gabbec783a89f93617d3661a819597d79c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t softdevice_handler_sd_disable </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function for disabling the SoftDevice. </p>
<p>This function will disable the SoftDevice. It will also update the internal state of this module. </p>

</div>
</div>
<a class="anchor" id="ga2367dbdaf727615d9e780f3a4eb2a8f0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void softdevice_handler_suspend </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function for suspending the event handler. </p>
<p>When event handler is disabled, no new events are pulled from SoftDevice. Application can suspend pulling incoming events when its event queue is full. </p>

</div>
</div>
<a class="anchor" id="ga200d4e1f1c70a46e6de6343f0a7d84b1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t softdevice_sys_evt_handler_set </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__softdevice__handler.html#ga5daeb8e474f0ad143566e2045233a53e">sys_evt_handler_t</a>&#160;</td>
          <td class="paramname"><em>sys_evt_handler</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function for registering for System (SOC) events. </p>
<p>The application should use this function to register for receiving System (SOC) events from the SoftDevice. If the application does not call this function, then any System (SOC) events that may be generated by the SoftDevice will NOT be fetched. Once the application has registered for the events, it is not possible to possible to cancel the registration. However, it is possible to register a different function for handling the events at any point of time.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sys_evt_handler</td><td>Function to be called for each received System (SOC) event.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NRF_SUCCESS</td><td>Successful registration. </td></tr>
    <tr><td class="paramname">NRF_ERROR_NULL</td><td>Null pointer provided as input. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="nav-path" class="topicfooter">
<a href="mailto:docfeedback@nordicsemi.no?subject=Documentation%20feedback" id="maillink">Documentation feedback</a> | <a href="https://devzone.nordicsemi.com/questions/" target="_blank">Developer Zone</a> | <a href="http://response.nordicsemi.com/subscribe-to-our-newsletters" target="_blank">Subscribe</a> | Updated <span id="date"/>
<script>
var date = new Date("Fri Mar 10 2017" + " UTC");
document.getElementById("date").innerHTML = date.toJSON().slice(0, 10);
var url=window.location.href.split("?")[0];
var filename=url.substring(url.lastIndexOf('/')+1);
document.getElementById("maillink").href = "mailto:docfeedback@nordicsemi.no?subject=Documentation%20feedback"+decodeURIComponent("%26")+"body=File%20name%3A%20"+encodeURIComponent(filename);
</script>
</div>
</body>
</html>
