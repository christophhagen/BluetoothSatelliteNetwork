<!-- HTML header for doxygen 1.8.3.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>nRF5 SDK v13.0.0: crys_rnd</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="extra_stylesheet_offline.css" rel="stylesheet" type="text/css"/>
<link href="nordic.css" rel="stylesheet" type="text/css" />
<link rel="Shortcut icon" href="./favicon.ico" type="image/x-icon" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0" width="100%" class="blank">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Nordic Semiconductor" src="nordic_small.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">nRF5 SDK
   &#160;<span id="projectnumber">v13.0.0</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
<table cellspacing="0" cellpadding="0" class="blank">
<tr>
<td class="doclinkintro">Choose documentation:</td>
<td class="doclinks" id="nrf5"><a href="../nrf5/index.html">nRF5 SDK</a></td>
<td class="doclinks" id="s132"><a href="../s132/index.html">S132 SoftDevice API</a></td>
<td class="doclinks" id="s140"><a href="../s140/index.html">S140 SoftDevice API</a></td>
<td class="doclinks" id="s212"><a href="../s212/index.html">S212 SoftDevice API</a></td>
<!--<td class="doclinks" id="s332"><a href="../s332/index.html">S332 SoftDevice API</a></td>-->
</tr>
</table>
<script>
var url=window.location.href.split("/").reverse()[1];
var validLinks= ["nrf5","s132","s140","s212","s332"];
var index;
for (index = 0; index < validLinks.length; ++index) {
   if ( url.indexOf(validLinks[index]) !== -1 ) {
      document.getElementById(validLinks[index]).setAttribute('class', 'doclinks docselected');
   };
};
</script>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__crys__rnd.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">crys_rnd<div class="ingroups"><a class="el" href="group__cryptocell__api.html">CryptoCell API</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>This file contains the CRYS APIs used for random number generation. The random-number generation module implements referenced standard [SP800-90].  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_c_r_y_s___r_n_d___work_buff__t.html">CRYS_RND_WorkBuff_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_c_r_y_s___r_n_d___state__t.html">CRYS_RND_State_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_c_r_y_s___r_n_d___context__t.html">CRYS_RND_Context_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_c_r_y_s___prng_fips_kat_ctx__t.html">CRYS_PrngFipsKatCtx_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga91b650acebbec3ec708a3e876b83a8c8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__crys__rnd.html#ga91b650acebbec3ec708a3e876b83a8c8">CRYS_RND_MAX_RESEED_COUNTER</a>&#160;&#160;&#160;(0xFFFFFFFF - 0xF)</td></tr>
<tr class="separator:ga91b650acebbec3ec708a3e876b83a8c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga24f450b0e005118112e0e45527102465"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga24f450b0e005118112e0e45527102465"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CRYS_RND_REQUESTED_SIZE_COUNTER</b>&#160;&#160;&#160;0x3FFFF</td></tr>
<tr class="separator:ga24f450b0e005118112e0e45527102465"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac5f979652750748af2475fe4a9cd700b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__crys__rnd.html#gac5f979652750748af2475fe4a9cd700b">CRYS_RND_AES_BLOCK_SIZE_IN_WORDS</a>&#160;&#160;&#160;<a class="el" href="group__ssi__aes__defs.html#gaaae7bd5348d19f03b64b8a305130c609">SASI_AES_BLOCK_SIZE_IN_WORDS</a></td></tr>
<tr class="separator:gac5f979652750748af2475fe4a9cd700b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8b48806f9d1ffcd1fe1d099aa99b5218"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga8b48806f9d1ffcd1fe1d099aa99b5218"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CRYS_RND_SEED_MAX_SIZE_WORDS</b>&#160;&#160;&#160;12</td></tr>
<tr class="separator:ga8b48806f9d1ffcd1fe1d099aa99b5218"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4ad39b1d7663799fb1c693684b57e7b2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga4ad39b1d7663799fb1c693684b57e7b2"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CRYS_RND_ADDITINAL_INPUT_MAX_SIZE_WORDS</b>&#160;&#160;&#160;CRYS_RND_SEED_MAX_SIZE_WORDS</td></tr>
<tr class="separator:ga4ad39b1d7663799fb1c693684b57e7b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga88188098c692c61e4492d253bb205c4e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga88188098c692c61e4492d253bb205c4e"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CRYS_RND_MAX_GEN_VECTOR_SIZE_BYTES</b>&#160;&#160;&#160;0xFFFF</td></tr>
<tr class="separator:ga88188098c692c61e4492d253bb205c4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga98788706179d95cb5aa4cc5ffaeed3ea"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga98788706179d95cb5aa4cc5ffaeed3ea"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CRYS_RND_AES_KEY_128_SIZE_WORDS</b>&#160;&#160;&#160;4</td></tr>
<tr class="separator:ga98788706179d95cb5aa4cc5ffaeed3ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga44f7d84721725d5de41aee1c2e871039"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga44f7d84721725d5de41aee1c2e871039"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CRYS_RND_AES_KEY_192_SIZE_WORDS</b>&#160;&#160;&#160;6</td></tr>
<tr class="separator:ga44f7d84721725d5de41aee1c2e871039"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf70fb3c2ec238e840444e301ad0d9468"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaf70fb3c2ec238e840444e301ad0d9468"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CRYS_RND_AES_KEY_256_SIZE_WORDS</b>&#160;&#160;&#160;8</td></tr>
<tr class="separator:gaf70fb3c2ec238e840444e301ad0d9468"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6660042647f4c9da3438182d9ceb8fbb"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga6660042647f4c9da3438182d9ceb8fbb"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CRYS_RND_WORK_BUFFER_SIZE_WORDS</b>&#160;&#160;&#160;1528</td></tr>
<tr class="separator:ga6660042647f4c9da3438182d9ceb8fbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6c4e26a54813274629a2d2e838f1ad80"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga6c4e26a54813274629a2d2e838f1ad80"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CRYS_RND_EntropyEstimatData_t</b>&#160;&#160;&#160;<a class="el" href="struct_c_r_y_s___r_n_d___work_buff__t.html">CRYS_RND_WorkBuff_t</a></td></tr>
<tr class="separator:ga6c4e26a54813274629a2d2e838f1ad80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae6d5b631280fedc9def08537fac8e971"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gae6d5b631280fedc9def08537fac8e971"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>crysRndEntrIntBuff</b>&#160;&#160;&#160;crysRndWorkBuff</td></tr>
<tr class="separator:gae6d5b631280fedc9def08537fac8e971"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae5bf3a502195d919c559004f1d754af5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gae5bf3a502195d919c559004f1d754af5"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CRYS_RND_TRNG_SRC_INNER_OFFSET_WORDS</b>&#160;&#160;&#160;2</td></tr>
<tr class="separator:gae5bf3a502195d919c559004f1d754af5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacd8b4972f682c4b9e1ab0c6b3984c71f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gacd8b4972f682c4b9e1ab0c6b3984c71f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CRYS_RND_MAX_SIZE_OF_OUTPUT_BYTES</b>&#160;&#160;&#160;3*1024</td></tr>
<tr class="separator:gacd8b4972f682c4b9e1ab0c6b3984c71f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafdec816e281796795a9c811126078386"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gafdec816e281796795a9c811126078386"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CRYS_PRNG_FIPS_KAT_OUT_DATA_SIZE</b>&#160;&#160;&#160;64</td></tr>
<tr class="separator:gafdec816e281796795a9c811126078386"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga9dca460ff04e989ce102139de027cbb9"><td class="memItemLeft" align="right" valign="top">typedef uint32_t(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__crys__rnd.html#ga9dca460ff04e989ce102139de027cbb9">SaSiRndGenerateVectWorkFunc_t</a> )(<a class="el" href="struct_c_r_y_s___r_n_d___state__t.html">CRYS_RND_State_t</a> *rndState_ptr, uint16_t outSizeBytes, uint8_t *out_ptr)</td></tr>
<tr class="separator:ga9dca460ff04e989ce102139de027cbb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga8ff061cd60109d16f3979e91fff2acac"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><b>CRYS_RND_mode_t</b> { <br/>
&#160;&#160;<b>CRYS_RND_Fast</b> = 0, 
<br/>
&#160;&#160;<b>CRYS_RND_Slow</b> = 1, 
<br/>
&#160;&#160;<b>CRYS_RND_ModeLast</b> = 0x7FFFFFFF
<br/>
 }</td></tr>
<tr class="separator:ga8ff061cd60109d16f3979e91fff2acac"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga74413966fc1588833c414c57c816b9cc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__crys__error.html#gaee257163cb36752ce395c0014fd97d59">CRYSError_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__crys__rnd.html#ga74413966fc1588833c414c57c816b9cc">CRYS_RND_Instantiation</a> (<a class="el" href="struct_c_r_y_s___r_n_d___context__t.html">CRYS_RND_Context_t</a> *rndContext_ptr, <a class="el" href="struct_c_r_y_s___r_n_d___work_buff__t.html">CRYS_RND_WorkBuff_t</a> *rndWorkBuff_ptr)</td></tr>
<tr class="memdesc:ga74413966fc1588833c414c57c816b9cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function initializes the RND context. It must be called at least once prior to using this context with any API that requires it as a parameter (e.g., other RND APIs, asymmetric cryptography key generation and signatures). It is called as part of ARM TrustZone CryptoCell library initialization, which initializes and returns the primary RND context. This primary context can be used as a single global context for all RND needs. Alternatively, other contexts may be initialized and used with a more limited scope (for specific applications or specific threads). The call to this function must be followed by a call to <a class="el" href="group__crys__rnd.html#ga650ab0b7cc284ca322fd5227ae9f4904" title="This function sets the RND vector generation function into the RND context.">CRYS_RND_SetGenerateVectorFunc</a> API to set the generate vector function. It implements referenced standard [SP800-90] - 10.2.1.3.2 - CTR-DRBG Instantiate algorithm using AES (FIPS-PUB 197) and Derivation Function (DF).  <a href="#ga74413966fc1588833c414c57c816b9cc">More...</a><br/></td></tr>
<tr class="separator:ga74413966fc1588833c414c57c816b9cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8261310fd7cc533b24a3b5326f091821"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__crys__error.html#gaee257163cb36752ce395c0014fd97d59">CRYSError_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__crys__rnd.html#ga8261310fd7cc533b24a3b5326f091821">CRYS_RND_UnInstantiation</a> (<a class="el" href="struct_c_r_y_s___r_n_d___context__t.html">CRYS_RND_Context_t</a> *rndContext_ptr)</td></tr>
<tr class="memdesc:ga8261310fd7cc533b24a3b5326f091821"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears existing RNG instantiation state.  <a href="#ga8261310fd7cc533b24a3b5326f091821">More...</a><br/></td></tr>
<tr class="separator:ga8261310fd7cc533b24a3b5326f091821"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab5e4ca8b4f450e7e888ab74243e976e1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__crys__error.html#gaee257163cb36752ce395c0014fd97d59">CRYSError_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__crys__rnd.html#gab5e4ca8b4f450e7e888ab74243e976e1">CRYS_RND_Reseeding</a> (<a class="el" href="struct_c_r_y_s___r_n_d___context__t.html">CRYS_RND_Context_t</a> *rndContext_ptr, <a class="el" href="struct_c_r_y_s___r_n_d___work_buff__t.html">CRYS_RND_WorkBuff_t</a> *rndWorkBuff_ptr)</td></tr>
<tr class="memdesc:gab5e4ca8b4f450e7e888ab74243e976e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is used for reseeding the RNG with additional entropy and additional user-provided input. (additional data should be provided by calling <a class="el" href="group__crys__rnd.html#ga1cc13cddcbc28ec7a6943ebab5786b62" title="Used for adding additional input/personalization data provided by the user, to be later used by the C...">CRYS_RND_AddAdditionalInput</a> prior to using this API). It implements referenced standard [SP800-90] - 10.2.1.4.2 - CTR-DRBG Reseeding algorithm, using AES (FIPS-PUB 197) and Derivation Function (DF).  <a href="#gab5e4ca8b4f450e7e888ab74243e976e1">More...</a><br/></td></tr>
<tr class="separator:gab5e4ca8b4f450e7e888ab74243e976e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab119c82aeb658e0ac02c19bbe186dc45"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__crys__error.html#gaee257163cb36752ce395c0014fd97d59">CRYSError_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__crys__rnd.html#gab119c82aeb658e0ac02c19bbe186dc45">CRYS_RND_GenerateVector</a> (<a class="el" href="struct_c_r_y_s___r_n_d___state__t.html">CRYS_RND_State_t</a> *rndState_ptr, uint16_t outSizeBytes, uint8_t *out_ptr)</td></tr>
<tr class="memdesc:gab119c82aeb658e0ac02c19bbe186dc45"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates a random vector according to the algorithm defined in referenced standard [SP800-90] - 10.2.1.5.2 - CTR-DRBG. The generation algorithm uses AES (FIPS-PUB 197) and Derivation Function (DF).  <a href="#gab119c82aeb658e0ac02c19bbe186dc45">More...</a><br/></td></tr>
<tr class="separator:gab119c82aeb658e0ac02c19bbe186dc45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga650ab0b7cc284ca322fd5227ae9f4904"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__crys__error.html#gaee257163cb36752ce395c0014fd97d59">CRYSError_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__crys__rnd.html#ga650ab0b7cc284ca322fd5227ae9f4904">CRYS_RND_SetGenerateVectorFunc</a> (<a class="el" href="struct_c_r_y_s___r_n_d___context__t.html">CRYS_RND_Context_t</a> *rndContext_ptr, <a class="el" href="group__crys__rnd.html#ga9dca460ff04e989ce102139de027cbb9">SaSiRndGenerateVectWorkFunc_t</a> rndGenerateVectFunc)</td></tr>
<tr class="memdesc:ga650ab0b7cc284ca322fd5227ae9f4904"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function sets the RND vector generation function into the RND context.  <a href="#ga650ab0b7cc284ca322fd5227ae9f4904">More...</a><br/></td></tr>
<tr class="separator:ga650ab0b7cc284ca322fd5227ae9f4904"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8ef0088acc3b8d989353d211b670cc84"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__crys__error.html#gaee257163cb36752ce395c0014fd97d59">CRYSError_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__crys__rnd.html#ga8ef0088acc3b8d989353d211b670cc84">CRYS_RND_GenerateVectorInRange</a> (<a class="el" href="struct_c_r_y_s___r_n_d___context__t.html">CRYS_RND_Context_t</a> *rndContext_ptr, uint32_t rndSizeInBits, uint8_t *maxVect_ptr, uint8_t *rndVect_ptr)</td></tr>
<tr class="memdesc:ga8ef0088acc3b8d989353d211b670cc84"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates a random vector with specific limitations by testing candidates (described and used in FIPS 186-4: B.1.2, B.4.2 etc.).  <a href="#ga8ef0088acc3b8d989353d211b670cc84">More...</a><br/></td></tr>
<tr class="separator:ga8ef0088acc3b8d989353d211b670cc84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1cc13cddcbc28ec7a6943ebab5786b62"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__crys__error.html#gaee257163cb36752ce395c0014fd97d59">CRYSError_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__crys__rnd.html#ga1cc13cddcbc28ec7a6943ebab5786b62">CRYS_RND_AddAdditionalInput</a> (<a class="el" href="struct_c_r_y_s___r_n_d___context__t.html">CRYS_RND_Context_t</a> *rndContext_ptr, uint8_t *additonalInput_ptr, uint16_t additonalInputSize)</td></tr>
<tr class="memdesc:ga1cc13cddcbc28ec7a6943ebab5786b62"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used for adding additional input/personalization data provided by the user, to be later used by the <a class="el" href="group__crys__rnd.html#ga74413966fc1588833c414c57c816b9cc" title="This function initializes the RND context. It must be called at least once prior to using this contex...">CRYS_RND_Instantiation</a>/<a class="el" href="group__crys__rnd.html#gab5e4ca8b4f450e7e888ab74243e976e1" title="This function is used for reseeding the RNG with additional entropy and additional user-provided inpu...">CRYS_RND_Reseeding</a>/<a class="el" href="group__crys__rnd.html#gab119c82aeb658e0ac02c19bbe186dc45" title="Generates a random vector according to the algorithm defined in referenced standard [SP800-90] - 10...">CRYS_RND_GenerateVector</a> functions.  <a href="#ga1cc13cddcbc28ec7a6943ebab5786b62">More...</a><br/></td></tr>
<tr class="separator:ga1cc13cddcbc28ec7a6943ebab5786b62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga30da2185626aef05eb39d33cce7d95eb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__crys__error.html#gaee257163cb36752ce395c0014fd97d59">CRYSError_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__crys__rnd.html#ga30da2185626aef05eb39d33cce7d95eb">CRYS_RND_EnterKatMode</a> (<a class="el" href="struct_c_r_y_s___r_n_d___context__t.html">CRYS_RND_Context_t</a> *rndContext_ptr, uint8_t *entrData_ptr, uint32_t entrSize, uint8_t *nonce_ptr, uint32_t nonceSize, <a class="el" href="struct_c_r_y_s___r_n_d___work_buff__t.html">CRYS_RND_WorkBuff_t</a> *workBuff_ptr)</td></tr>
<tr class="memdesc:ga30da2185626aef05eb39d33cce7d95eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">The CRYS_RND_EnterKatMode function sets KAT mode bit into StateFlag of global CRYS_RND_WorkingState structure.  <a href="#ga30da2185626aef05eb39d33cce7d95eb">More...</a><br/></td></tr>
<tr class="separator:ga30da2185626aef05eb39d33cce7d95eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8b7c4e32e3c73c925f2198327f355182"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__crys__rnd.html#ga8b7c4e32e3c73c925f2198327f355182">CRYS_RND_DisableKatMode</a> (<a class="el" href="struct_c_r_y_s___r_n_d___context__t.html">CRYS_RND_Context_t</a> *rndContext_ptr)</td></tr>
<tr class="memdesc:ga8b7c4e32e3c73c925f2198327f355182"><td class="mdescLeft">&#160;</td><td class="mdescRight">The CRYS_RND_DisableKatMode function disables KAT mode bit into StateFlag of global CRYS_RND_WorkingState structure.  <a href="#ga8b7c4e32e3c73c925f2198327f355182">More...</a><br/></td></tr>
<tr class="separator:ga8b7c4e32e3c73c925f2198327f355182"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>This file contains the CRYS APIs used for random number generation. The random-number generation module implements referenced standard [SP800-90]. </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="gac5f979652750748af2475fe4a9cd700b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CRYS_RND_AES_BLOCK_SIZE_IN_WORDS&#160;&#160;&#160;<a class="el" href="group__ssi__aes__defs.html#gaaae7bd5348d19f03b64b8a305130c609">SASI_AES_BLOCK_SIZE_IN_WORDS</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>AES output block size in words. </p>

</div>
</div>
<a class="anchor" id="ga91b650acebbec3ec708a3e876b83a8c8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CRYS_RND_MAX_RESEED_COUNTER&#160;&#160;&#160;(0xFFFFFFFF - 0xF)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Maximal reseed counter - indicates maximal number of requests allowed between reseeds; according to NIST 800-90 it is (2^48 - 1), our restriction is : (0xFFFFFFFF - 0xF). </p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="ga9dca460ff04e989ce102139de027cbb9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint32_t(* SaSiRndGenerateVectWorkFunc_t)(<a class="el" href="struct_c_r_y_s___r_n_d___state__t.html">CRYS_RND_State_t</a> *rndState_ptr,uint16_t outSizeBytes,uint8_t *out_ptr)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The RND Generate vector function pointer type definition. The prototype intendent for External and CRYS internal RND functions pointers definitions. Full description can be found in <a class="el" href="group__crys__rnd.html#gab119c82aeb658e0ac02c19bbe186dc45" title="Generates a random vector according to the algorithm defined in referenced standard [SP800-90] - 10...">CRYS_RND_GenerateVector</a> function API. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga1cc13cddcbc28ec7a6943ebab5786b62"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__crys__error.html#gaee257163cb36752ce395c0014fd97d59">CRYSError_t</a> CRYS_RND_AddAdditionalInput </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c_r_y_s___r_n_d___context__t.html">CRYS_RND_Context_t</a> *&#160;</td>
          <td class="paramname"><em>rndContext_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>additonalInput_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>additonalInputSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Used for adding additional input/personalization data provided by the user, to be later used by the <a class="el" href="group__crys__rnd.html#ga74413966fc1588833c414c57c816b9cc" title="This function initializes the RND context. It must be called at least once prior to using this contex...">CRYS_RND_Instantiation</a>/<a class="el" href="group__crys__rnd.html#gab5e4ca8b4f450e7e888ab74243e976e1" title="This function is used for reseeding the RNG with additional entropy and additional user-provided inpu...">CRYS_RND_Reseeding</a>/<a class="el" href="group__crys__rnd.html#gab119c82aeb658e0ac02c19bbe186dc45" title="Generates a random vector according to the algorithm defined in referenced standard [SP800-90] - 10...">CRYS_RND_GenerateVector</a> functions. </p>
<dl class="section return"><dt>Returns</dt><dd>CRYS_OK on success. </dd>
<dd>
A non-zero value from crys_rnd_error.h on failure. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">rndContext_ptr</td><td>Pointer to the RND context buffer. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">additonalInput_ptr</td><td>The Additional Input buffer. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">additonalInputSize</td><td>The size of the Additional Input buffer. Must be &lt;= 48, and a multiple of 4. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga8b7c4e32e3c73c925f2198327f355182"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CRYS_RND_DisableKatMode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c_r_y_s___r_n_d___context__t.html">CRYS_RND_Context_t</a> *&#160;</td>
          <td class="paramname"><em>rndContext_ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The CRYS_RND_DisableKatMode function disables KAT mode bit into StateFlag of global CRYS_RND_WorkingState structure. </p>
<p>The user must call this function after KAT tests before actual using RND module (Instantiation etc.).</p>
<dl class="section return"><dt>Returns</dt><dd>CRYS_OK on success. </dd>
<dd>
A non-zero value from crys_rnd_error.h on failure. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">rndContext_ptr</td><td>Pointer to the RND context buffer. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga30da2185626aef05eb39d33cce7d95eb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__crys__error.html#gaee257163cb36752ce395c0014fd97d59">CRYSError_t</a> CRYS_RND_EnterKatMode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c_r_y_s___r_n_d___context__t.html">CRYS_RND_Context_t</a> *&#160;</td>
          <td class="paramname"><em>rndContext_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>entrData_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>entrSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>nonce_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>nonceSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c_r_y_s___r_n_d___work_buff__t.html">CRYS_RND_WorkBuff_t</a> *&#160;</td>
          <td class="paramname"><em>workBuff_ptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The CRYS_RND_EnterKatMode function sets KAT mode bit into StateFlag of global CRYS_RND_WorkingState structure. </p>
<p>The user must call this function before calling functions performing KAT tests.</p>
<dl class="section note"><dt>Note</dt><dd>Total size of entropy and nonce must be not great than: CRYS_RND_MAX_KAT_ENTROPY_AND_NONCE_SIZE, defined.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>CRYS_OK on success. </dd>
<dd>
A non-zero value from crys_rnd_error.h on failure. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">rndContext_ptr</td><td>Pointer to the RND context buffer. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">entrData_ptr</td><td>Entropy data. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">entrSize</td><td>Entropy size in bytes. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nonce_ptr</td><td>Nonce. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nonceSize</td><td>Entropy size in bytes. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">workBuff_ptr</td><td>RND working buffer, must be the same buffer, which should be passed into Instantiation/Reseeding functions. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gab119c82aeb658e0ac02c19bbe186dc45"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__crys__error.html#gaee257163cb36752ce395c0014fd97d59">CRYSError_t</a> CRYS_RND_GenerateVector </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c_r_y_s___r_n_d___state__t.html">CRYS_RND_State_t</a> *&#160;</td>
          <td class="paramname"><em>rndState_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>outSizeBytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>out_ptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generates a random vector according to the algorithm defined in referenced standard [SP800-90] - 10.2.1.5.2 - CTR-DRBG. The generation algorithm uses AES (FIPS-PUB 197) and Derivation Function (DF). </p>
<dl class="section note"><dt>Note</dt><dd><ul id="noteb">
<li>
The RND module must be instantiated prior to invocation of this API. </li>
<li>
In the following cases, Reseeding operation must be performed prior to vector generation: <ul>
<li>
Prediction resistance is required. </li>
<li>
The function returns CRYS_RND_RESEED_COUNTER_OVERFLOW_ERROR, stating that the Reseed Counter has passed its upper-limit (2^32-2).</li>
</ul>
</li>
</ul>
</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>CRYS_OK on success. </dd>
<dd>
A non-zero value from crys_rnd_error.h on failure. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">rndState_ptr</td><td>Pointer to the RND state structure, which is part of the RND context structure. Use rndContext-&gt;rndState field of the context for this parameter. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">outSizeBytes</td><td>The size in bytes of the random vector required. The maximal size is 2^16 -1 bytes. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">out_ptr</td><td>The pointer to output buffer. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga8ef0088acc3b8d989353d211b670cc84"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__crys__error.html#gaee257163cb36752ce395c0014fd97d59">CRYSError_t</a> CRYS_RND_GenerateVectorInRange </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c_r_y_s___r_n_d___context__t.html">CRYS_RND_Context_t</a> *&#160;</td>
          <td class="paramname"><em>rndContext_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>rndSizeInBits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>maxVect_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>rndVect_ptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generates a random vector with specific limitations by testing candidates (described and used in FIPS 186-4: B.1.2, B.4.2 etc.). </p>
<p>This function will draw a random vector, compare it to the range limits, and if within range - return it in rndVect_ptr. If outside the range, the function will continue retrying until a conforming vector is found, or the maximal retries limit is exceeded. If maxVect_ptr is provided, rndSizeInBits specifies its size, and the output vector must conform to the range [1 &lt; rndVect &lt; maxVect_ptr]. If maxVect_ptr is NULL, rndSizeInBits specifies the exact required vector size, and the output vector must be the exact same bit size (with its most significant bit = 1). </p>
<dl class="section note"><dt>Note</dt><dd>The RND module must be instantiated prior to invocation of this API.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>CRYS_OK on success. </dd>
<dd>
A non-zero value from crys_rnd_error.h on failure. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">rndContext_ptr</td><td>Pointer to the RND context buffer. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rndSizeInBits</td><td>The size in bits of the random vector required. The allowed size in range 2 &lt;= rndSizeInBits &lt; 2^19-1, bits. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">maxVect_ptr</td><td>Pointer to the vector defining the upper limit for the random vector output, Given as little-endian byte array. If not NULL, its actual size is treated as [(rndSizeInBits+7)/8] bytes. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">rndVect_ptr</td><td>Pointer to the output buffer for the random vector. Must be at least [(rndSizeInBits+7)/8] bytes. Treated as little-endian byte array. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga74413966fc1588833c414c57c816b9cc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__crys__error.html#gaee257163cb36752ce395c0014fd97d59">CRYSError_t</a> CRYS_RND_Instantiation </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c_r_y_s___r_n_d___context__t.html">CRYS_RND_Context_t</a> *&#160;</td>
          <td class="paramname"><em>rndContext_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c_r_y_s___r_n_d___work_buff__t.html">CRYS_RND_WorkBuff_t</a> *&#160;</td>
          <td class="paramname"><em>rndWorkBuff_ptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function initializes the RND context. It must be called at least once prior to using this context with any API that requires it as a parameter (e.g., other RND APIs, asymmetric cryptography key generation and signatures). It is called as part of ARM TrustZone CryptoCell library initialization, which initializes and returns the primary RND context. This primary context can be used as a single global context for all RND needs. Alternatively, other contexts may be initialized and used with a more limited scope (for specific applications or specific threads). The call to this function must be followed by a call to <a class="el" href="group__crys__rnd.html#ga650ab0b7cc284ca322fd5227ae9f4904" title="This function sets the RND vector generation function into the RND context.">CRYS_RND_SetGenerateVectorFunc</a> API to set the generate vector function. It implements referenced standard [SP800-90] - 10.2.1.3.2 - CTR-DRBG Instantiate algorithm using AES (FIPS-PUB 197) and Derivation Function (DF). </p>
<dl class="section note"><dt>Note</dt><dd>Additional data can be mixed with the random seed (personalization data or nonce). If required, this data should be provided by calling <a class="el" href="group__crys__rnd.html#ga1cc13cddcbc28ec7a6943ebab5786b62" title="Used for adding additional input/personalization data provided by the user, to be later used by the C...">CRYS_RND_AddAdditionalInput</a> prior to using this API.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>CRYS_OK on success. </dd>
<dd>
A non-zero value from crys_rnd_error.h on failure. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">rndContext_ptr</td><td>Pointer to the RND context buffer allocated by the user, which is used to maintain the RND state, as well as pointers to the functions used for random vector generation. This context must be saved and provided as a parameter to any API that uses the RND module. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>the context must be cleared before sent to the function. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">rndWorkBuff_ptr</td><td>Scratchpad for the RND module's work. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gab5e4ca8b4f450e7e888ab74243e976e1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__crys__error.html#gaee257163cb36752ce395c0014fd97d59">CRYSError_t</a> CRYS_RND_Reseeding </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c_r_y_s___r_n_d___context__t.html">CRYS_RND_Context_t</a> *&#160;</td>
          <td class="paramname"><em>rndContext_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c_r_y_s___r_n_d___work_buff__t.html">CRYS_RND_WorkBuff_t</a> *&#160;</td>
          <td class="paramname"><em>rndWorkBuff_ptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is used for reseeding the RNG with additional entropy and additional user-provided input. (additional data should be provided by calling <a class="el" href="group__crys__rnd.html#ga1cc13cddcbc28ec7a6943ebab5786b62" title="Used for adding additional input/personalization data provided by the user, to be later used by the C...">CRYS_RND_AddAdditionalInput</a> prior to using this API). It implements referenced standard [SP800-90] - 10.2.1.4.2 - CTR-DRBG Reseeding algorithm, using AES (FIPS-PUB 197) and Derivation Function (DF). </p>
<dl class="section return"><dt>Returns</dt><dd>CRYS_OK on success. </dd>
<dd>
A non-zero value from crys_rnd_error.h on failure. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">rndContext_ptr</td><td>Pointer to the RND context buffer. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">rndWorkBuff_ptr</td><td>Scratchpad for the RND module's work. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga650ab0b7cc284ca322fd5227ae9f4904"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__crys__error.html#gaee257163cb36752ce395c0014fd97d59">CRYSError_t</a> CRYS_RND_SetGenerateVectorFunc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c_r_y_s___r_n_d___context__t.html">CRYS_RND_Context_t</a> *&#160;</td>
          <td class="paramname"><em>rndContext_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__crys__rnd.html#ga9dca460ff04e989ce102139de027cbb9">SaSiRndGenerateVectWorkFunc_t</a>&#160;</td>
          <td class="paramname"><em>rndGenerateVectFunc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function sets the RND vector generation function into the RND context. </p>
<p>It must be called after <a class="el" href="group__crys__rnd.html#ga74413966fc1588833c414c57c816b9cc" title="This function initializes the RND context. It must be called at least once prior to using this contex...">CRYS_RND_Instantiation</a>, and prior to any other API that requires the RND context as parameter. It is called as part of ARM TrustZone CryptoCell library initialization, to set the RND vector generation function into the primary RND context, after <a class="el" href="group__crys__rnd.html#ga74413966fc1588833c414c57c816b9cc" title="This function initializes the RND context. It must be called at least once prior to using this contex...">CRYS_RND_Instantiation</a> is called.</p>
<dl class="section return"><dt>Returns</dt><dd>CRYS_OK on success. </dd>
<dd>
A non-zero value from crys_rnd_error.h on failure. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">rndContext_ptr</td><td>Pointer to the RND context buffer allocated by the user, which is used to maintain the RND state as well as pointers to the functions used for random vector generation. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rndGenerateVectFunc</td><td>Pointer to the random vector generation function. The pointer should point to the <a class="el" href="group__crys__rnd.html#gab119c82aeb658e0ac02c19bbe186dc45" title="Generates a random vector according to the algorithm defined in referenced standard [SP800-90] - 10...">CRYS_RND_GenerateVector</a> function. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga8261310fd7cc533b24a3b5326f091821"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__crys__error.html#gaee257163cb36752ce395c0014fd97d59">CRYSError_t</a> CRYS_RND_UnInstantiation </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c_r_y_s___r_n_d___context__t.html">CRYS_RND_Context_t</a> *&#160;</td>
          <td class="paramname"><em>rndContext_ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clears existing RNG instantiation state. </p>
<dl class="section return"><dt>Returns</dt><dd>CRYS_OK on success. </dd>
<dd>
A non-zero value from crys_rnd_error.h on failure. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">rndContext_ptr</td><td>Pointer to the RND context buffer. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="nav-path" class="topicfooter">
<a href="mailto:docfeedback@nordicsemi.no?subject=Documentation%20feedback" id="maillink">Documentation feedback</a> | <a href="https://devzone.nordicsemi.com/questions/" target="_blank">Developer Zone</a> | <a href="http://response.nordicsemi.com/subscribe-to-our-newsletters" target="_blank">Subscribe</a> | Updated <span id="date"/>
<script>
var date = new Date("Fri Mar 10 2017" + " UTC");
document.getElementById("date").innerHTML = date.toJSON().slice(0, 10);
var url=window.location.href.split("?")[0];
var filename=url.substring(url.lastIndexOf('/')+1);
document.getElementById("maillink").href = "mailto:docfeedback@nordicsemi.no?subject=Documentation%20feedback"+decodeURIComponent("%26")+"body=File%20name%3A%20"+encodeURIComponent(filename);
</script>
</div>
</body>
</html>
