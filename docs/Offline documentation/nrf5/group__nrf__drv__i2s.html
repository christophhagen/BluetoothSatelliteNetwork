<!-- HTML header for doxygen 1.8.3.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>nRF5 SDK v13.0.0: I2S driver</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="extra_stylesheet_offline.css" rel="stylesheet" type="text/css"/>
<link href="nordic.css" rel="stylesheet" type="text/css" />
<link rel="Shortcut icon" href="./favicon.ico" type="image/x-icon" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0" width="100%" class="blank">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Nordic Semiconductor" src="nordic_small.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">nRF5 SDK
   &#160;<span id="projectnumber">v13.0.0</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
<table cellspacing="0" cellpadding="0" class="blank">
<tr>
<td class="doclinkintro">Choose documentation:</td>
<td class="doclinks" id="nrf5"><a href="../nrf5/index.html">nRF5 SDK</a></td>
<td class="doclinks" id="s132"><a href="../s132/index.html">S132 SoftDevice API</a></td>
<td class="doclinks" id="s140"><a href="../s140/index.html">S140 SoftDevice API</a></td>
<td class="doclinks" id="s212"><a href="../s212/index.html">S212 SoftDevice API</a></td>
<!--<td class="doclinks" id="s332"><a href="../s332/index.html">S332 SoftDevice API</a></td>-->
</tr>
</table>
<script>
var url=window.location.href.split("/").reverse()[1];
var validLinks= ["nrf5","s132","s140","s212","s332"];
var index;
for (index = 0; index < validLinks.length; ++index) {
   if ( url.indexOf(validLinks[index]) !== -1 ) {
      document.getElementById(validLinks[index]).setAttribute('class', 'doclinks docselected');
   };
};
</script>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__nrf__drv__i2s.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Modules</a> &#124;
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">I2S driver<div class="ingroups"><a class="el" href="group__nrf__i2s.html">I2S HAL and driver</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Inter-IC Sound (I2S) interface driver.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group__nrf__drv__i2s__config"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__nrf__drv__i2s__config.html">I2S peripheral driver configuration</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnrf__drv__i2s__config__t.html">nrf_drv_i2s_config_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">I2S driver configuration structure.  <a href="structnrf__drv__i2s__config__t.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gaf876dd921db47b87fc4ca71e3a621077"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaf876dd921db47b87fc4ca71e3a621077"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__nrf__drv__i2s.html#gaf876dd921db47b87fc4ca71e3a621077">NRF_DRV_I2S_PIN_NOT_USED</a>&#160;&#160;&#160;0xFF</td></tr>
<tr class="memdesc:gaf876dd921db47b87fc4ca71e3a621077"><td class="mdescLeft">&#160;</td><td class="mdescRight">This value can be provided instead of a pin number for the signals SDOUT, SDIN, and MCK to specify that a given signal is not used and therefore does not need to be connected to a pin. <br/></td></tr>
<tr class="separator:gaf876dd921db47b87fc4ca71e3a621077"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga61d0c19d7b4b31e2c3d11227e691c2df"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__nrf__drv__i2s.html#ga61d0c19d7b4b31e2c3d11227e691c2df">NRF_DRV_I2S_FLAG_SYNCHRONIZED_MODE</a>&#160;&#160;&#160;0x01</td></tr>
<tr class="memdesc:ga61d0c19d7b4b31e2c3d11227e691c2df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag indicating that calls to the data handler for RX and TX should be synchronized, thus always combined into one call.  <a href="#ga61d0c19d7b4b31e2c3d11227e691c2df">More...</a><br/></td></tr>
<tr class="separator:ga61d0c19d7b4b31e2c3d11227e691c2df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga72944e2f9c760dbe1ac4df3b91c52b9f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__nrf__drv__i2s.html#ga72944e2f9c760dbe1ac4df3b91c52b9f">NRF_DRV_I2S_DEFAULT_CONFIG</a></td></tr>
<tr class="memdesc:ga72944e2f9c760dbe1ac4df3b91c52b9f"><td class="mdescLeft">&#160;</td><td class="mdescRight">I2S driver default configuration.  <a href="#ga72944e2f9c760dbe1ac4df3b91c52b9f">More...</a><br/></td></tr>
<tr class="separator:ga72944e2f9c760dbe1ac4df3b91c52b9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga51dda23b1076dc7534954fda093977a5"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__nrf__drv__i2s.html#ga51dda23b1076dc7534954fda093977a5">nrf_drv_i2s_data_handler_t</a> )(uint32_t const *p_data_received, uint32_t *p_data_to_send, uint16_t number_of_words)</td></tr>
<tr class="memdesc:ga51dda23b1076dc7534954fda093977a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">I2S driver data handler type.  <a href="#ga51dda23b1076dc7534954fda093977a5">More...</a><br/></td></tr>
<tr class="separator:ga51dda23b1076dc7534954fda093977a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga1d6bd05dbd0fda318c1c8e4cc99ea9ae"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__sdk__error.html#gaf6c20fb483036617204f12e99e0b997b">ret_code_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__nrf__drv__i2s.html#ga1d6bd05dbd0fda318c1c8e4cc99ea9ae">nrf_drv_i2s_init</a> (<a class="el" href="structnrf__drv__i2s__config__t.html">nrf_drv_i2s_config_t</a> const *p_config, <a class="el" href="group__nrf__drv__i2s.html#ga51dda23b1076dc7534954fda093977a5">nrf_drv_i2s_data_handler_t</a> handler)</td></tr>
<tr class="memdesc:ga1d6bd05dbd0fda318c1c8e4cc99ea9ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for initializing the I2S driver.  <a href="#ga1d6bd05dbd0fda318c1c8e4cc99ea9ae">More...</a><br/></td></tr>
<tr class="separator:ga1d6bd05dbd0fda318c1c8e4cc99ea9ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaacbc8e89b87874003b410d3c666b1182"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaacbc8e89b87874003b410d3c666b1182"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__nrf__drv__i2s.html#gaacbc8e89b87874003b410d3c666b1182">nrf_drv_i2s_uninit</a> (void)</td></tr>
<tr class="memdesc:gaacbc8e89b87874003b410d3c666b1182"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for uninitializing the I2S driver. <br/></td></tr>
<tr class="separator:gaacbc8e89b87874003b410d3c666b1182"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga091d37d7f8d92932a1510656be99449c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__sdk__error.html#gaf6c20fb483036617204f12e99e0b997b">ret_code_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__nrf__drv__i2s.html#ga091d37d7f8d92932a1510656be99449c">nrf_drv_i2s_start</a> (uint32_t *p_rx_buffer, uint32_t *p_tx_buffer, uint16_t buffer_size, uint8_t flags)</td></tr>
<tr class="memdesc:ga091d37d7f8d92932a1510656be99449c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for starting the continuous I2S transfer.  <a href="#ga091d37d7f8d92932a1510656be99449c">More...</a><br/></td></tr>
<tr class="separator:ga091d37d7f8d92932a1510656be99449c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga37c61559519016e4978ab6485f317ec8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga37c61559519016e4978ab6485f317ec8"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__nrf__drv__i2s.html#ga37c61559519016e4978ab6485f317ec8">nrf_drv_i2s_stop</a> (void)</td></tr>
<tr class="memdesc:ga37c61559519016e4978ab6485f317ec8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for stopping the I2S transfer. <br/></td></tr>
<tr class="separator:ga37c61559519016e4978ab6485f317ec8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Inter-IC Sound (I2S) interface driver. </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ga72944e2f9c760dbe1ac4df3b91c52b9f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NRF_DRV_I2S_DEFAULT_CONFIG</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">{                                            \</div>
<div class="line">    .sck_pin      = <a class="code" href="group__nrf__drv__i2s__config.html#ga09b0717ad8bd3be9135be67ef309ff14" title="SCK pin.">I2S_CONFIG_SCK_PIN</a>,      \</div>
<div class="line">    .lrck_pin     = <a class="code" href="group__nrf__drv__i2s__config.html#ga1ff692a51978f0e66e04e2ca0c284e26" title="LRCK pin.">I2S_CONFIG_LRCK_PIN</a>,     \</div>
<div class="line">    .mck_pin      = <a class="code" href="group__nrf__drv__i2s__config.html#gaeee37bc5e12798578524e75de6ed00ef" title="MCK pin.">I2S_CONFIG_MCK_PIN</a>,      \</div>
<div class="line">    .sdout_pin    = <a class="code" href="group__nrf__drv__i2s__config.html#gaad164e6f03e71f4e85dea2e890b857bc" title="SDOUT pin.">I2S_CONFIG_SDOUT_PIN</a>,    \</div>
<div class="line">    .sdin_pin     = <a class="code" href="group__nrf__drv__i2s__config.html#ga6596259ed6dbad82cbc2a8b39469a7db" title="SDIN pin.">I2S_CONFIG_SDIN_PIN</a>,     \</div>
<div class="line">    .irq_priority = <a class="code" href="group__nrf__drv__i2s__config.html#ga30abfd28c131b55d9f10f2be72d4b871" title="Interrupt priority.">I2S_CONFIG_IRQ_PRIORITY</a>, \</div>
<div class="line">    .mode         = (<a class="code" href="group__nrf__i2s__hal.html#ga05fa70f696366c5a06fa5f5e673735af" title="I2S modes of operation.">nrf_i2s_mode_t</a>)<a class="code" href="group__nrf__drv__i2s__config.html#ga53287f238d65bcffed04d27533a01859" title="Mode.">I2S_CONFIG_MASTER</a>,       \</div>
<div class="line">    .format       = (<a class="code" href="group__nrf__i2s__hal.html#ga18ab6f73e00677525e1ab53f24dfc1cc" title="I2S frame formats.">nrf_i2s_format_t</a>)<a class="code" href="group__nrf__drv__i2s__config.html#gad55ef90c3868769fe92c450ef7659cb3" title="Format.">I2S_CONFIG_FORMAT</a>,       \</div>
<div class="line">    .alignment    = (<a class="code" href="group__nrf__i2s__hal.html#gae48fd73f7f8f0c2f321f192e4b9ed190" title="I2S alignments of sample within a frame.">nrf_i2s_align_t</a>)<a class="code" href="group__nrf__drv__i2s__config.html#ga540ba9abf72aef58d69fc8cd6d6ce4f0" title="Alignment.">I2S_CONFIG_ALIGN</a>,        \</div>
<div class="line">    .sample_width = (<a class="code" href="group__nrf__i2s__hal.html#gac06986979fa6e2b0f4dd1f444b95ef00" title="I2S sample widths.">nrf_i2s_swidth_t</a>)<a class="code" href="group__nrf__drv__i2s__config.html#ga4270fe5acf3782c03fe44c5b39f03f29" title="Sample width (bits)">I2S_CONFIG_SWIDTH</a>,       \</div>
<div class="line">    .channels     = (<a class="code" href="group__nrf__i2s__hal.html#ga60b286e35e447040e992a3ded4375dbe" title="I2S enabled channels.">nrf_i2s_channels_t</a>)<a class="code" href="group__nrf__drv__i2s__config.html#gac4cc6b5e197fb37f7a100025714f2187" title="Channels.">I2S_CONFIG_CHANNELS</a>,     \</div>
<div class="line">    .mck_setup    = (<a class="code" href="group__nrf__i2s__hal.html#ga1e7fb828b72fa48367cbaeed264f9372" title="I2S master clock generator settings.">nrf_i2s_mck_t</a>)<a class="code" href="group__nrf__drv__i2s__config.html#gae5248dabd4f250af5242cda658e59eba" title="MCK behavior.">I2S_CONFIG_MCK_SETUP</a>,    \</div>
<div class="line">    .ratio        = (<a class="code" href="group__nrf__i2s__hal.html#ga11ab985aa62eb48d2177d6784e9a1820" title="I2S MCK/LRCK ratios.">nrf_i2s_ratio_t</a>)<a class="code" href="group__nrf__drv__i2s__config.html#gae90f8fc9c79dd585c2290f8e89b0362b" title="MCK/LRCK ratio.">I2S_CONFIG_RATIO</a>,        \</div>
<div class="line">}</div>
</div><!-- fragment -->
<p>I2S driver default configuration. </p>

</div>
</div>
<a class="anchor" id="ga61d0c19d7b4b31e2c3d11227e691c2df"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NRF_DRV_I2S_FLAG_SYNCHRONIZED_MODE&#160;&#160;&#160;0x01</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flag indicating that calls to the data handler for RX and TX should be synchronized, thus always combined into one call. </p>
<p>Use this flag when calling <a class="el" href="group__nrf__drv__i2s.html#ga091d37d7f8d92932a1510656be99449c">nrf_drv_i2s_start</a> to force a common call to the <a class="el" href="group__nrf__drv__i2s.html#ga51dda23b1076dc7534954fda093977a5">data handler</a> for RX and TX data. This is useful, for example, when received data should be processed and then be sent back. Obviously, this flag is only applicable when both directions (RX and TX) are enabled. </p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="ga51dda23b1076dc7534954fda093977a5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(*  nrf_drv_i2s_data_handler_t)(uint32_t const *p_data_received, uint32_t *p_data_to_send, uint16_t number_of_words)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>I2S driver data handler type. </p>
<p>A data handling function of this type must be specified during initialization of the driver. The driver will call this function when a new portion of data is received or a new portion of data should be prepared for transmission. The first case is indicated by a non-NULL value in the <code>p_data_received</code> parameter (which points to the memory containing the received data). Similarly, the second case is indicated by a non-NULL value in the <code>p_data_to_send</code> parameter (which points to where the data to be transmitted should be placed).</p>
<dl class="section note"><dt>Note</dt><dd>The two cases mentioned above may be indicated separately or combined into one call (depending on the environment in which the driver is used). Therefore, both parameters should be checked and handled properly in every call. <a class="el" href="group__nrf__drv__i2s.html#ga61d0c19d7b4b31e2c3d11227e691c2df">Synchronized mode</a> can be used to always combine these indications.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p_data_received</td><td>Pointer to the buffer with received data, or NULL if the handler is called to prepare transmission only. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">p_data_to_send</td><td>Pointer to the buffer where data to be sent should be written, or NULL if the handler is called for received data only. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">number_of_words</td><td>Length of data received and/or to be written (in 32-bit words). This value is always equal to half the size of the buffers set by the call to the <a class="el" href="group__nrf__drv__i2s.html#ga091d37d7f8d92932a1510656be99449c">nrf_drv_i2s_start</a> function. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga1d6bd05dbd0fda318c1c8e4cc99ea9ae"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__sdk__error.html#gaf6c20fb483036617204f12e99e0b997b">ret_code_t</a> nrf_drv_i2s_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structnrf__drv__i2s__config__t.html">nrf_drv_i2s_config_t</a> const *&#160;</td>
          <td class="paramname"><em>p_config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__nrf__drv__i2s.html#ga51dda23b1076dc7534954fda093977a5">nrf_drv_i2s_data_handler_t</a>&#160;</td>
          <td class="paramname"><em>handler</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function for initializing the I2S driver. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p_config</td><td>Pointer to the structure with initial configuration. If NULL, the default configuration is used. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">handler</td><td>Data handler provided by the user. Must not be NULL.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NRF_SUCCESS</td><td>If initialization was successful. </td></tr>
    <tr><td class="paramname">NRF_ERROR_INVALID_STATE</td><td>If the driver was already initialized. </td></tr>
    <tr><td class="paramname">NRF_ERROR_INVALID_PARAM</td><td>If the requested combination of configuration options is not allowed by the I2S peripheral. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga091d37d7f8d92932a1510656be99449c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__sdk__error.html#gaf6c20fb483036617204f12e99e0b997b">ret_code_t</a> nrf_drv_i2s_start </td>
          <td>(</td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>p_rx_buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>p_tx_buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>buffer_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function for starting the continuous I2S transfer. </p>
<p>The I2S data transfer can be performed in one of three modes: RX (reception) only, TX (transmission) only, or in both directions simultaneously. The mode is selected by specifying a proper buffer for a given direction in the call to this function or by passing NULL instead if this direction should be disabled.</p>
<p>The length of the buffer (which is a common value for RX and TX if both directions are enabled) is specified in 32-bit words. One 32-bit memory word can either contain four 8-bit samples, two 16-bit samples, or one right-aligned 24-bit sample sign-extended to a 32-bit value. For a detailed memory mapping for different supported configurations, see the <a href="http://infocenter.nordicsemi.com/topic/com.nordic.infocenter.nrf52/dita/nrf52/chips/nrf52840_ps.html">nRF52840 Product Specification</a> or <a href="http://infocenter.nordicsemi.com/topic/com.nordic.infocenter.nrf52/dita/nrf52/chips/nrf52832_ps.html">nRF52832 Product Specification</a>.</p>
<p>The provided buffers are logically divided into two parts of equal size. One of them is in use by the peripheral (for storing received data or for getting data to be transmitted, respectively). The other part is provided to the application via a call to the defined <a class="el" href="group__nrf__drv__i2s.html#ga51dda23b1076dc7534954fda093977a5">data handling function</a>, so that the application can process the received data or prepare the next portion of data to be sent. The two parts are swapped every time <code>buffer_size/2</code> data words are received or transmitted.</p>
<p>Additional options are provided using the <code>flags</code> parameter:</p>
<ul>
<li><a class="el" href="group__nrf__drv__i2s.html#ga61d0c19d7b4b31e2c3d11227e691c2df">NRF_DRV_I2S_FLAG_SYNCHRONIZED_MODE</a> - the calls to data handler should be done in a synchronized manner (one common call for TX and RX). Applicable only when both RX and TX are enabled.</li>
</ul>
<dl class="section attention"><dt>Attention</dt><dd>All data exchange is done in the data handler only. In particular, no data should be written to the transmit buffer before calling this function (a proper call to the data handler to get the first portion of data to be sent will be done before the actual transfer starts).</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Peripherals using EasyDMA (like I2S) require the transfer buffers to be placed in the Data RAM region. If this condition is not met, this function will fail with the error code NRF_ERROR_INVALID_ADDR.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p_rx_buffer</td><td>Pointer to the receive buffer. Pass NULL if reception is not required. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">p_tx_buffer</td><td>Pointer to the transmit buffer. Pass NULL if transmission is not required. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buffer_size</td><td>Size of the buffers (in 32-bit words). The size must be an even number greater than 0. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>Transfer options (0 for default settings).</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NRF_SUCCESS</td><td>If the operation was successful. </td></tr>
    <tr><td class="paramname">NRF_ERROR_INVALID_STATE</td><td>If a transfer was already started or the driver has not been initialized. </td></tr>
    <tr><td class="paramname">NRF_ERROR_INVALID_ADDR</td><td>If the provided buffers are not placed in the Data RAM region. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="nav-path" class="topicfooter">
<a href="mailto:docfeedback@nordicsemi.no?subject=Documentation%20feedback" id="maillink">Documentation feedback</a> | <a href="https://devzone.nordicsemi.com/questions/" target="_blank">Developer Zone</a> | <a href="http://response.nordicsemi.com/subscribe-to-our-newsletters" target="_blank">Subscribe</a> | Updated <span id="date"/>
<script>
var date = new Date("Fri Mar 10 2017" + " UTC");
document.getElementById("date").innerHTML = date.toJSON().slice(0, 10);
var url=window.location.href.split("?")[0];
var filename=url.substring(url.lastIndexOf('/')+1);
document.getElementById("maillink").href = "mailto:docfeedback@nordicsemi.no?subject=Documentation%20feedback"+decodeURIComponent("%26")+"body=File%20name%3A%20"+encodeURIComponent(filename);
</script>
</div>
</body>
</html>
